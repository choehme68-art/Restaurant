
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bella Vista - Speisekarte</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%232c5530' d='M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z'/></svg>" type="image/svg+xml">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background-color: #f8f8f8;
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: relative;
            border: 2px solid #2c5530;
        }

        h1 {
            color: #2c5530;
            margin-bottom: 10px;
        }

        .header-phone {
            margin-top: 10px;
            font-size: 1.1em;
            color: #2c5530;
            font-weight: bold;
        }

        .delivery-banner {
            margin-top: 8px;
            font-size: 0.9em;
            color: #27ae60;
            font-weight: bold;
            background: #e8f5e8;
            padding: 5px 15px;
            border-radius: 15px;
            display: inline-block;
            border: 1px solid #27ae60;
        }

        .language-flags {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .language-flag-container {
            position: relative;
            display: inline-block;
        }

        .language-flag {
            width: 36px;
            height: 24px;
            border-radius: 3px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .language-flag.active {
            width: 40px;
            height: 27px;
        }

        .language-flag:hover {
            transform: scale(1.05);
        }

        .language-tooltip {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .language-flag-container:hover .language-tooltip {
            opacity: 1;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .control-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            background: white;
            border: 2px solid #2c5530;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
            flex: 1;
            min-width: 120px;
        }

        .control-item select, .control-item input {
            border: none;
            background: none;
            outline: none;
            width: 100%;
            font-size: 14px;
            cursor: pointer;
        }

        .control-item:hover {
            background: #f0f7f0;
        }

        .cart-control {
            background: white;
            border: 2px solid #2c5530;
            border-radius: 8px;
            padding: 10px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            min-width: 140px;
            justify-content: center;
        }

        .cart-control:hover {
            background: #2c5530;
            color: white;
        }

        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .menu-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            border: 2px solid #e8f5e8;
        }

        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .menu-item-number {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #2c5530;
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9em;
        }

        .price {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.2em;
            margin: 10px 0;
        }

        .description {
            color: #666;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .menu-item .ingredients-label {
            font-weight: bold;
            color: #2c5530;
            margin: 8px 0 5px 0;
            font-size: 0.9em;
        }

        .menu-item .ingredients {
            color: #666;
            font-size: 0.85em;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .tags {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .tag {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
            background: #f0f0f0;
            transition: all 0.3s;
        }

        .tag.vegetarisch { background: #d1ecf1; color: #0c5460; }
        .tag.scharf { background: #f8d7da; color: #721c24; }
        .tag.ohne-Schweinefleisch { background: #d4edda; color: #155724; }
        .tag.vegan { background: #e8f6f3; color: #0b5345; }
        .tag.laktosefrei { background: #fef9e7; color: #7d6608; }

        .tag:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .cart-indicator {
            background: #d4edda;
            color: #155724;
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 0.8em;
        }

        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .popup-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            background: none;
            border: none;
            color: #666;
        }

        .popup-image {
            width: 100%;
            height: 200px;
            background: #eee;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            overflow: hidden;
            position: relative;
        }
        
        .popup-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .photo-type-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.7em;
            font-weight: bold;
        }

        .size-selection {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .size-selection h4 {
            margin-bottom: 15px;
            color: #2c5530;
            text-align: center;
        }

        .size-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .size-option {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .size-option:hover {
            border-color: #2c5530;
        }

        .size-option.selected {
            border-color: #2c5530;
            background: #f0f7f0;
        }

        .size-option input[type="radio"] {
            margin-right: 10px;
            transform: scale(1.2);
        }

        .size-label {
            flex: 1;
            font-weight: bold;
        }

        .size-price {
            font-weight: bold;
            color: #e74c3c;
            font-size: 1.1em;
        }

        .size-description {
            font-size: 0.9em;
            color: #666;
            margin-left: 25px;
            margin-top: 2px;
        }

        .cart-popup-btn {
            width: 100%;
            padding: 12px;
            background: #2c5530;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-top: 15px;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-weight: bold;
            transition: background 0.3s;
        }

        .cart-popup-btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
        }

        .cart-popup-btn:hover:not(:disabled) {
            background: #1e3a23;
        }

        .cart-popup-btn.added {
            background: #27ae60;
        }

        .allergens-section {
            margin: 20px 0 0 0;
            padding: 15px 0 0 0;
            border-top: 2px solid #e9ecef;
        }

        .allergens-section h4 {
            color: #2c5530;
            margin-bottom: 10px;
            font-size: 0.95em;
        }

        .allergen-item {
            padding: 3px 0;
            color: #666;
            font-size: 0.85em;
        }

        .additives-section {
            margin: 15px 0 0 0;
            padding: 15px 0 0 0;
            border-top: 1px solid #e9ecef;
        }

        .additives-section h4 {
            color: #2c5530;
            margin-bottom: 10px;
            font-size: 0.95em;
        }

        .additive-item {
            padding: 3px 0;
            color: #666;
            font-size: 0.85em;
        }

        .cart-view {
            display: none;
        }

        .back-btn {
            padding: 10px 20px;
            background: #666;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 20px;
        }
        
        .cart-summary {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .cart-total {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c5530;
            text-align: right;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #eee;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            margin-bottom: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
            gap: 15px;
        }

        .cart-item-info {
            flex: 1;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-item-name {
            font-weight: bold;
            margin-bottom: 5px;
        }

        .cart-item-size {
            font-size: 0.9em;
            color: #666;
        }

        .cart-item-price {
            color: #e74c3c;
            font-weight: bold;
            font-size: 1.1em;
            min-width: 80px;
            text-align: right;
            margin-right: 15px;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 120px;
            justify-content: flex-end;
        }

        .quantity-btn {
            padding: 8px 12px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            min-width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn.remove {
            background: #e74c3c;
        }

        .item-quantity {
            font-weight: bold;
            min-width: 30px;
            text-align: center;
            font-size: 1.1em;
        }

        .cart-item-number {
            background: #2c5530;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.8em;
            flex-shrink: 0;
        }

        .phone-btn {
            width: 100%;
            padding: 15px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: background 0.3s;
            text-decoration: none;
            display: block;
            text-align: center;
        }

        .phone-btn:hover {
            background: #219a52;
        }

        .phone-info {
            text-align: center;
            margin-top: 10px;
            color: #666;
            font-size: 0.9em;
        }

        footer {
            background: #2c5530;
            color: white;
            padding: 40px 0;
            margin-top: auto;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            text-align: center;
            min-height: 200px;
        }

        .footer-section {
            flex: 1;
            min-width: 250px;
            margin: 15px;
            padding: 0 15px;
        }

        .footer-bottom {
            text-align: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .footer-map {
            width: 100%;
            height: 200px;
            background: #e8f5e8;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
            border: 2px solid #27ae60;
        }

        .footer-map iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: #2c5530;
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            transition: all 0.3s;
            z-index: 1000;
        }

        .scroll-to-top:hover {
            background: #1e3a23;
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        @media (max-width: 768px) {
            .menu-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .control-item, .cart-control {
                width: 100%;
            }

            .cart-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .cart-item-controls {
                width: 100%;
                justify-content: space-between;
            }

            .cart-item-price {
                text-align: left;
                margin-right: 0;
            }

            .size-options {
                gap: 8px;
            }

            .size-option {
                padding: 10px 12px;
            }

            .scroll-to-top {
                bottom: 20px;
                right: 20px;
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .footer-content {
                flex-direction: column;
            }
            
            .footer-section {
                text-align: center;
                margin: 10px 0;
            }
        }

        .no-items {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 1.1em;
        }

        .confirmation-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            justify-content: center;
            align-items: center;
        }

        .confirmation-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
        }

        .confirmation-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .confirm-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }

        .confirm-ok {
            background: #27ae60;
            color: white;
        }

        .confirm-ok:hover {
            background: #219a52;
        }

        .confirm-no {
            background: #e74c3c;
            color: white;
        }

        .confirm-no:hover {
            background: #c0392b;
        }
    </style>
</head>
<body>
    <button class="scroll-to-top" id="scrollToTopBtn" title="Nach oben scrollen">↑</button>

    <div class="container">
        <header>
            <h1 id="restaurantName">🍝 Bella Vista</h1>
            <p id="headerWelcome">Willkommen zu unserer digitalen Speisekarte</p>
            <div class="header-phone" id="headerPhone">📞 02327 303687</div>
            <div class="delivery-banner" id="deliveryBanner">🚗 Lieferung möglich</div>
        </header>

        <div class="language-flags" id="languageFlags">
            <div class="language-flag-container">
                <img src="https://flagcdn.com/de.svg" alt="Deutsch" class="language-flag active" data-lang="de">
                <div class="language-tooltip">Deutsch</div>
            </div>
            <div class="language-flag-container">
                <img src="https://flagcdn.com/gb.svg" alt="English" class="language-flag" data-lang="en">
                <div class="language-tooltip">English</div>
            </div>
            <div class="language-flag-container">
                <img src="https://flagcdn.com/tr.svg" alt="Türkçe" class="language-flag" data-lang="tr">
                <div class="language-tooltip">Türkçe</div>
            </div>
            <div class="language-flag-container">
                <img src="https://flagcdn.com/sa.svg" alt="العربية" class="language-flag" data-lang="ar">
                <div class="language-tooltip">العربية</div>
            </div>
            <div class="language-flag-container">
                <img src="https://flagcdn.com/ru.svg" alt="Русский" class="language-flag" data-lang="ru">
                <div class="language-tooltip">Русский</div>
            </div>
        </div>

        <div class="controls" id="mainControls">
            <div class="control-item">
                <span>📋</span>
                <select id="categoryFilter">
                    <option value="all">Alle Kategorien</option>
                    <option value="pizza">Pizza</option>
                    <option value="nudeln">Nudeln</option>
                    <option value="salate">Salate</option>
                    <option value="gyros">Gyros</option>
                </select>
            </div>
            <div class="control-item">
                <span>⭐</span>
                <select id="specialWishesFilter">
                    <option value="all">Alle Sonderwünsche</option>
                    <option value="vegetarisch">Vegetarisch</option>
                    <option value="scharf">Scharf</option>
                </select>
            </div>
            <div class="control-item">
                <span>🔍</span>
                <input type="text" id="searchInput" placeholder="Gerichte suchen...">
            </div>
            <div class="cart-control" id="showCart">
                <span>🛒</span>
                <span id="cartLabel">Warenkorb (<span id="cartCount">0</span>)</span>
            </div>
        </div>

        <div class="menu-view" id="menuView">
            <div class="menu-grid" id="menuGrid">
            </div>
        </div>

        <div class="cart-view" id="cartView">
            <button class="back-btn" id="backToMenu">← Zurück zur Karte</button>
            <h2 id="cartTitle">Ihr Warenkorb</h2>
            
            <div class="cart-summary">
                <div id="cartItems">
                </div>
                <div class="cart-total" id="cartTotal">
                    Gesamt: € 0,00
                </div>
            </div>
            
            <a href="tel:02327303687" class="phone-btn" id="cartPhoneBtn">📞 Jetzt anrufen & bestellen: 02327 303687</a>
            <div class="phone-info" id="phoneInfo">Beim Klick auf den Button werden Sie verbunden</div>
        </div>
    </div>

    <footer id="restaurantFooter">
        <div class="footer-content">
            <div class="footer-section">
                <h3 id="footerRestaurantName">Bella Vista</h3>
                <p id="footerAddress">Weststraße 181</p>
                <p id="footerZipCity">44866 Bochum Wattenscheid</p>
            </div>
            <div class="footer-section">
                <h3 id="footerHoursTitle">Öffnungszeiten</h3>
                <div id="footerHours">
                    <p>Mo: 11:30 - 14:30 Uhr & 17:00 - 22:30 Uhr</p>
                    <p>Di - Fr: 11:30 - 22:30 Uhr</p>
                    <p>Sa, So, Feiertage: 15:00 - 22:30 Uhr</p>
                </div>
            </div>
            <div class="footer-section">
                <h3>Zum Restaurant navigieren</h3>
                <div class="footer-map">
                    <iframe 
                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2485.244881006972!2d7.153365315767365!3d51.47647907962822!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47b8f6d2c9b3b3b7%3A0x8b3b3b3b3b3b3b3b!2sWeststra%C3%9Fe%20181%2C%2044866%20Bochum!5e0!3m2!1sde!2sde!4v1620000000000!5m2!1sde!2sde" 
                        allowfullscreen="" 
                        loading="lazy">
                    </iframe>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p id="footerCopyright">&copy; 2025 Bella Vista. Alle Rechte vorbehalten.</p>
        </div>
    </footer>

    <div class="popup" id="mealPopup">
        <div class="popup-content">
            <button class="close-btn" id="closePopup">&times;</button>
            <div class="popup-image" id="popupImage">
            </div>
            <h2 id="popupTitle">Gericht Name</h2>
            
            <div class="size-selection" id="sizeSelection" style="display: none;">
                <h4 id="sizeSelectionTitle">Bitte wählen Sie eine Größe:</h4>
                <div class="size-options" id="sizeOptions">
                </div>
            </div>

            <div class="price" id="popupPrice">€ 0,00</div>
            <p class="description" id="popupDescription" style="display: none;">Beschreibung des Gerichts...</p>
            
            <div class="ingredients-label" id="ingredientsLabel">Zutaten:</div>
            <p class="ingredients" id="popupIngredients"></p>
            
            <div class="tags" id="popupTags"></div>
            
            <button class="cart-popup-btn" id="cartPopupBtn" disabled>🛒 Bitte Größe wählen</button>
            
            <div class="allergens-section" id="allergensSection" style="display: none;">
                <h4 id="allergensTitle">Allergene</h4>
                <div class="allergens-content" id="allergensContent">
                </div>
            </div>

            <div class="additives-section" id="additivesSection" style="display: none;">
                <h4 id="additivesTitle">Zusatzstoffe</h4>
                <div class="additives-content" id="additivesContent">
                </div>
            </div>
        </div>
    </div>

    <div class="confirmation-popup" id="confirmationPopup">
        <div class="confirmation-content">
            <h3 id="confirmationTitle">In den Warenkorb legen?</h3>
            <p id="confirmationText">Möchten Sie dieses Gericht in den Warenkorb legen?</p>
            <div class="confirmation-buttons">
                <button class="confirm-btn confirm-ok" id="confirmOk">OK</button>
                <button class="confirm-btn confirm-no" id="confirmNo">Abbrechen</button>
            </div>
        </div>
    </div>

    <script>
        const translations = {
            de: {
                welcome: "Willkommen zu unserer digitalen Speisekarte",
                delivery: "🚗 Lieferung möglich",
                searchPlaceholder: "Gerichte suchen...",
                allCategories: "Alle Kategorien",
                pizza: "Pizza",
                pasta: "Nudeln",
                salads: "Salate",
                gyros: "Gyros",
                cart: "Warenkorb",
                backToMenu: "Zurück zur Speisekarte",
                yourCart: "Ihr Warenkorb",
                emptyCart: "Ihr Warenkorb ist leer",
                total: "Gesamt",
                callNow: "Jetzt anrufen",
                clickToCall: "Klicken Sie hier, um zu bestellen",
                openingHours: "Öffnungszeiten",
                contact: "Kontakt",
                copyright: "© 2025 Bella Vista. Alle Rechte vorbehalten.",
                ingredients: "Zutaten",
                allergens: "Allergene",
                additives: "Zusatzstoffe",
                selectSize: "Größe wählen",
                ok: "OK",
                cancel: "Abbrechen",
                languageLabel: "Sprache",
                contactLabel: "Teilen",
                noItems: "Keine Gerichte gefunden",
                success: "Erfolg",
                addedToCart: "wurde zum Warenkorb hinzugefügt",
                addToCart: "In den Warenkorb",
                pleaseSelectSize: "Bitte Größe wählen",
                allSpecialWishes: "Alle Sonderwünsche",
                vegetarian: "Vegetarisch",
                spicy: "Scharf",
                navigate: "Zum Restaurant navigieren",
                german: "Deutsch",
                english: "English",
                turkish: "Türkçe",
                arabic: "العربية",
                russian: "Русский"
            },
            en: {
                welcome: "Welcome to our digital menu",
                delivery: "🚗 Delivery available",
                searchPlaceholder: "Search dishes...",
                allCategories: "All Categories",
                pizza: "Pizza",
                pasta: "Pasta",
                salads: "Salads",
                gyros: "Gyros",
                cart: "Cart",
                backToMenu: "Back to Menu",
                yourCart: "Your Cart",
                emptyCart: "Your cart is empty",
                total: "Total",
                callNow: "Call Now",
                clickToCall: "Click here to order",
                openingHours: "Opening Hours",
                contact: "Contact",
                copyright: "© 2025 Bella Vista. All rights reserved.",
                ingredients: "Ingredients",
                allergens: "Allergens",
                additives: "Additives",
                selectSize: "Select Size",
                ok: "OK",
                cancel: "Cancel",
                languageLabel: "Language",
                contactLabel: "Share",
                noItems: "No items found",
                success: "Success",
                addedToCart: "has been added to the cart",
                addToCart: "Add to Cart",
                pleaseSelectSize: "Please select a size",
                allSpecialWishes: "All Special Wishes",
                vegetarian: "Vegetarian",
                spicy: "Spicy",
                navigate: "Navigate to restaurant",
                german: "German",
                english: "English",
                turkish: "Turkish",
                arabic: "Arabic",
                russian: "Russian"
            },
            tr: {
                welcome: "Dijital menümüze hoş geldiniz",
                delivery: "🚗 Teslimat mevcut",
                searchPlaceholder: "Yemek ara...",
                allCategories: "Tüm Kategoriler",
                pizza: "Pizza",
                pasta: "Makarna",
                salads: "Salatalar",
                gyros: "Gyros",
                cart: "Sepet",
                backToMenu: "Menüye Dön",
                yourCart: "Sepetiniz",
                emptyCart: "Sepetiniz boş",
                total: "Toplam",
                callNow: "Şimdi Ara",
                clickToCall: "Sipariş vermek için tıklayın",
                openingHours: "Açılış Saatleri",
                contact: "İletişim",
                copyright: "© 2025 Bella Vista. Tüm hakları saklıdır.",
                ingredients: "İçindekiler",
                allergens: "Alerjenler",
                additives: "Katkı Maddeleri",
                selectSize: "Boyut Seçin",
                ok: "Tamam",
                cancel: "İptal",
                languageLabel: "Dil",
                contactLabel: "Paylaş",
                noItems: "Hiçbir öğe bulunamadı",
                success: "Başarılı",
                addedToCart: "sepete eklendi",
                addToCart: "Sepete Ekle",
                pleaseSelectSize: "Lütfen bir boyut seçin",
                allSpecialWishes: "Tüm Özel İstekler",
                vegetarian: "Vejetaryen",
                spicy: "Acılı",
                navigate: "Restorana git",
                german: "Almanca",
                english: "İngilizce",
                turkish: "Türkçe",
                arabic: "Arapça",
                russian: "Rusça"
            },
            ar: {
                welcome: "مرحبًا بكم في قائمتنا الرقمية",
                delivery: "🚗 التوصيل متاح",
                searchPlaceholder: "ابحث في الأطباق...",
                allCategories: "جميع الفئات",
                pizza: "بيتزا",
                pasta: "مكرونة",
                salads: "سلطات",
                gyros: "جيروس",
                cart: "عربة التسوق",
                backToMenu: "العودة إلى القائمة",
                yourCart: "عربة التسوق الخاصة بك",
                emptyCart: "عربة التسوق الخاصة بك فارغة",
                total: "المجموع",
                callNow: "اتصل الآن",
                clickToCall: "انقر هنا للطلب",
                openingHours: "ساعات العمل",
                contact: "اتصل بنا",
                copyright: "© 2025 Bella Vista. جميع الحقوق محفوظة.",
                ingredients: "المكونات",
                allergens: "مسببات الحساسية",
                additives: "الإضافات",
                selectSize: "اختر الحجم",
                ok: "موافق",
                cancel: "إلغاء",
                languageLabel: "اللغة",
                contactLabel: "مشاركة",
                noItems: "لم يتم العثور على أية عناصر",
                success: "نجاح",
                addedToCart: "تمت الإضافة إلى عربة التسوق",
                addToCart: "أضف إلى عربة التسوق",
                pleaseSelectSize: "يرجى اختيار حجم",
                allSpecialWishes: "جميع الرغبات الخاصة",
                vegetarian: "نباتي",
                spicy: "حار",
                navigate: "التوجه إلى المطعم",
                german: "الألمانية",
                english: "الإنجليزية",
                turkish: "التركية",
                arabic: "العربية",
                russian: "الروسية"
            },
            ru: {
                welcome: "Добро пожаловать в наше цифровое меню",
                delivery: "🚗 Доступна доставка",
                searchPlaceholder: "Поиск блюд...",
                allCategories: "Все категории",
                pizza: "Пицца",
                pasta: "Паста",
                salads: "Салаты",
                gyros: "Гирос",
                cart: "Корзина",
                backToMenu: "Назад к меню",
                yourCart: "Ваша корзина",
                emptyCart: "Ваша корзина пуста",
                total: "Итого",
                callNow: "Позвонить сейчас",
                clickToCall: "Нажмите здесь, чтобы заказать",
                openingHours: "Часы работы",
                contact: "Контакты",
                copyright: "© 2025 Bella Vista. Все права защищены.",
                ingredients: "Ингредиенты",
                allergens: "Аллергены",
                additives: "Добавки",
                selectSize: "Выберите размер",
                ok: "ОК",
                cancel: "Отмена",
                languageLabel: "Язык",
                contactLabel: "Поделиться",
                noItems: "Элементы не найдены",
                success: "Успех",
                addedToCart: "добавлено в корзину",
                addToCart: "Добавить в корзину",
                pleaseSelectSize: "Пожалуйста, выберите размер",
                allSpecialWishes: "Все особые пожелания",
                vegetarian: "Вегетарианское",
                spicy: "Острое",
                navigate: "Проложить маршрут к ресторану",
                german: "Немецкий",
                english: "Английский",
                turkish: "Турецкий",
                arabic: "Арабский",
                russian: "Русский"
            }
        };

        let currentLanguage = 'de';
        let cart = [];
        let currentMeal = null;
        let selectedSize = null;

        // Beispieldaten für die Speisekarte
        const menuItems = [
            {
                id: 1,
                number: 1,
                name: {
                    de: "Margherita",
                    en: "Margherita",
                    tr: "Margherita",
                    ar: "مارغريتا",
                    ru: "Маргарита"
                },
                category: "pizza",
                tags: ["vegetarisch"],
                price: 8.90,
                description: {
                    de: "Klassische Tomatensoße und Mozzarella",
                    en: "Classic tomato sauce and mozzarella",
                    tr: "Klasik domates sosu ve mozzarella",
                    ar: "صلصة طماطم كلاسيكية وجبن موزاريلا",
                    ru: "Классический томатный соус и моцарелла"
                },
                ingredients: {
                    de: "Tomatensoße, Mozzarella, Basilikum",
                    en: "Tomato sauce, mozzarella, basil",
                    tr: "Domates sosu, mozzarella, fesleğen",
                    ar: "صلصة الطماطم، جبن الموزاريلا، الريحان",
                    ru: "Томатный соус, моцарелла, базилик"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1604068549290-dea0e4a305ca?w=500&h=300&fit=crop"
            },
            {
                id: 2,
                number: 2,
                name: {
                    de: "Salami",
                    en: "Salami",
                    tr: "Salam",
                    ar: "سلامي",
                    ru: "Салями"
                },
                category: "pizza",
                tags: [],
                price: 10.90,
                description: {
                    de: "Tomatensoße, Mozzarella und Salami",
                    en: "Tomato sauce, mozzarella and salami",
                    tr: "Domates sosu, mozzarella ve salam",
                    ar: "صلصة الطماطم، جبن الموزاريلا والسلامي",
                    ru: "Томатный соус, моцарелла и салями"
                },
                ingredients: {
                    de: "Tomatensoße, Mozzarella, Salami",
                    en: "Tomato sauce, mozzarella, salami",
                    tr: "Domates sosu, mozzarella, salam",
                    ar: "صلصة الطماطم، جبن الموزاريلا، السلامي",
                    ru: "Томатный соус, моцарелла, салями"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1627626775846-122c4c4840f9?w=500&h=300&fit=crop"
            },
            {
                id: 3,
                number: 3,
                name: {
                    de: "Hawaii",
                    en: "Hawaii",
                    tr: "Hawaii",
                    ar: "هاواي",
                    ru: "Гавайская"
                },
                category: "pizza",
                tags: [],
                price: 12.90,
                description: {
                    de: "Tomatensoße, Mozzarella, Schinken und Ananas",
                    en: "Tomato sauce, mozzarella, ham and pineapple",
                    tr: "Domates sosu, mozzarella, jambon ve ananas",
                    ar: "صلصة الطماطم، جبن الموزاريلا، لحم الخنزير والأناناس",
                    ru: "Томатный соус, моцарелла, ветчина и ананас"
                },
                ingredients: {
                    de: "Tomatensoße, Mozzarella, Schinken, Ananas",
                    en: "Tomato sauce, mozzarella, ham, pineapple",
                    tr: "Domates sosu, mozzarella, jambon, ananas",
                    ar: "صلصة الطماطم، جبن الموزاريلا، لحم الخنزير، الأناناس",
                    ru: "Томатный соус, моцарелла, ветчина, ананас"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?w=500&h=300&fit=crop"
            },
            {
                id: 4,
                number: 4,
                name: {
                    de: "Spaghetti Carbonara",
                    en: "Spaghetti Carbonara",
                    tr: "Spaghetti Carbonara",
                    ar: "سباغيتي كاربونارا",
                    ru: "Спагетти Карбонара"
                },
                category: "nudeln",
                tags: [],
                price: 11.90,
                description: {
                    de: "Klassische Carbonara-Soße mit Speck",
                    en: "Classic carbonara sauce with bacon",
                    tr: "Pastırma ile klasik carbonara sosu",
                    ar: "صلصة كاربونارا كلاسيكية مع لحم الخنزير المقدد",
                    ru: "Классический соус карбонара с беконом"
                },
                ingredients: {
                    de: "Spaghetti, Sahne, Ei, Speck, Parmesan",
                    en: "Spaghetti, cream, egg, bacon, parmesan",
                    tr: "Spagetti, krema, yumurta, pastırma, parmesan",
                    ar: "سباغيتي، كريمة، بيض، لحم خنزير مقدد، جبن بارميزان",
                    ru: "Спагетти, сливки, яйцо, бекон, пармезан"
                },
                allergens: ["A", "C", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=500&h=300&fit=crop"
            },
            {
                id: 5,
                number: 5,
                name: {
                    de: "Spaghetti Bolognese",
                    en: "Spaghetti Bolognese",
                    tr: "Spaghetti Bolognese",
                    ar: "سباغيتي بولونيز",
                    ru: "Спагетти Болоньезе"
                },
                category: "nudeln",
                tags: [],
                price: 10.90,
                description: {
                    de: "Hackfleischsoße nach italienischer Art",
                    en: "Minced meat sauce in Italian style",
                    tr: "İtalyan usulü kıymalı sos",
                    ar: "صلصة اللحم المفروم على الطريقة الإيطالية",
                    ru: "Мясной соус по-итальянски"
                },
                ingredients: {
                    de: "Spaghetti, Hackfleischsoße, Parmesan",
                    en: "Spaghetti, minced meat sauce, parmesan",
                    tr: "Spagetti, kıymalı sos, parmesan",
                    ar: "سباغيتي، صلصة اللحم المفروم، جبن بارميزان",
                    ru: "Спагетти, мясной соус, пармезан"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1551892374-ecf8754cf8b0?w=500&h=300&fit=crop"
            },
            {
                id: 6,
                number: 6,
                name: {
                    de: "Griechischer Salat",
                    en: "Greek Salad",
                    tr: "Yunan Salatası",
                    ar: "سلطة يونانية",
                    ru: "Греческий салат"
                },
                category: "salate",
                tags: ["vegetarisch"],
                price: 9.90,
                description: {
                    de: "Frischer Salat mit Feta-Käse und Oliven",
                    en: "Fresh salad with feta cheese and olives",
                    tr: "Beyaz peynir ve zeytinli taze salata",
                    ar: "سلطة طازجة مع جبن الفيتا والزيتون",
                    ru: "Свежий салат с сыром фета и оливками"
                },
                ingredients: {
                    de: "Salat, Tomaten, Gurken, Oliven, Feta-Käse, Zwiebeln, Oregano",
                    en: "Lettuce, tomatoes, cucumbers, olives, feta cheese, onions, oregano",
                    tr: "Marul, domates, salatalık, zeytin, beyaz peynir, soğan, kekik",
                    ar: "خس، طماطم، خيار، زيتون، جبن فيتا، بصل، زعتر",
                    ru: "Салат, помидоры, огурцы, оливки, сыр фета, лук, орегано"
                },
                allergens: ["G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1540420773420-3366772f4999?w=500&h=300&fit=crop"
            },
            {
                id: 7,
                number: 7,
                name: {
                    de: "Gyros Teller",
                    en: "Gyros Plate",
                    tr: "Gyros Tabağı",
                    ar: "طبق جيروس",
                    ru: "Тарелка с гиросом"
                },
                category: "gyros",
                tags: ["scharf"],
                price: 13.90,
                description: {
                    de: "Gyros mit Pommes, Tzatziki und Salat",
                    en: "Gyros with fries, tzatziki and salad",
                    tr: "Gyros, patates kızartması, cacık ve salata",
                    ar: "جيروس مع البطاطس المقلية، تزاتزيكي وسلطة",
                    ru: "Гирос с картофелем фри, дзадзики и салатом"
                },
                ingredients: {
                    de: "Gyros, Pommes Frites, Tzatziki, Salat, Zwiebeln",
                    en: "Gyros, french fries, tzatziki, salad, onions",
                    tr: "Gyros, patates kızartması, cacık, salata, soğan",
                    ar: "جيروس، بطاطس مقلية، تزاتزيكي، سلطة، بصل",
                    ru: "Гирос, картофель фри, дзадзики, салат, лук"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1598214886806-c87b84b7078b?w=500&h=300&fit=crop"
            },
            {
                id: 8,
                number: 8,
                name: {
                    de: "Pizza Diavolo",
                    en: "Pizza Diavolo",
                    tr: "Pizza Diavolo",
                    ar: "بيتزا ديافولو",
                    ru: "Пицца Дьяволо"
                },
                category: "pizza",
                tags: ["scharf"],
                price: 13.90,
                description: {
                    de: "Scharfe Salami, Peperoni und Chili",
                    en: "Spicy salami, pepperoni and chili",
                    tr: "Acılı salam, pepperoni ve biber",
                    ar: "سلامي حار، بيبروني وفلفل حار",
                    ru: "Острая салями, пепперони и перец чили"
                },
                ingredients: {
                    de: "Tomatensoße, Mozzarella, scharfe Salami, Peperoni, Chili",
                    en: "Tomato sauce, mozzarella, spicy salami, pepperoni, chili",
                    tr: "Domates sosu, mozzarella, acılı salam, pepperoni, biber",
                    ar: "صلصة الطماطم، جبن الموزاريلا، السلامي الحار، الببروني، الفلفل الحار",
                    ru: "Томатный соус, моцарелла, острая салями, пепперони, перец чили"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=500&h=300&fit=crop"
            },
            {
                id: 9,
                number: 9,
                name: {
                    de: "Gyros Pita",
                    en: "Gyros Pita",
                    tr: "Gyros Pita",
                    ar: "جيروس بيتا",
                    ru: "Гирос Пита"
                },
                category: "gyros",
                tags: ["scharf"],
                sizes: [
                    { 
                        name: { de: "Klein", en: "Small", tr: "Küçük", ar: "صغير", ru: "Маленький" }, 
                        price: 6.90, 
                        description: { de: "Mit Pommes und Salat", en: "With fries and salad", tr: "Patates kızartması ve salata ile", ar: "مع البطاطس المقلية والسلطة", ru: "С картофелем фри и салатом" } 
                    },
                    { 
                        name: { de: "Groß", en: "Large", tr: "Büyük", ar: "كبير", ru: "Большой" }, 
                        price: 8.90, 
                        description: { de: "Mit Pommes und Salat", en: "With fries and salad", tr: "Patates kızartması ve salata ile", ar: "مع البطاطس المقلية والسلطة", ru: "С картофелем фри и салатом" } 
                    }
                ],
                description: {
                    de: "Gyros im Fladenbrot mit Tzatziki",
                    en: "Gyros in pita bread with tzatziki",
                    tr: "Cacıklı pide ekmeğinde gyros",
                    ar: "جيروس في خبز بيتا مع تزاتزيكي",
                    ru: "Гирос в пите с дзадзики"
                },
                ingredients: {
                    de: "Gyros, Fladenbrot, Tzatziki, Zwiebeln, Tomaten, Pommes Frites",
                    en: "Gyros, pita bread, tzatziki, onions, tomatoes, french fries",
                    tr: "Gyros, pide ekmeği, cacık, soğan, domates, patates kızartması",
                    ar: "جيروس، خبز بيتا، تزاتزيكي، بصل، طماطم، بطاطس مقلية",
                    ru: "Гирос, питa, дзадзики, лук, помидоры, картофель фри"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=500&h=300&fit=crop"
            },
            {
                id: 10,
                number: 10,
                name: {
                    de: "Pizza Quattro Stagioni",
                    en: "Pizza Quattro Stagioni",
                    tr: "Pizza Quattro Stagioni",
                    ar: "بيتزا كواترو ستاجيوني",
                    ru: "Пицца Четыре Сезона"
                },
                category: "pizza",
                tags: [],
                price: 14.90,
                description: {
                    de: "Vier Jahreszeiten mit verschiedenen Belägen",
                    en: "Four seasons with different toppings",
                    tr: "Farklı malzemelerle dört mevsim",
                    ar: "أربعة فصول مع طبقات مختلفة",
                    ru: "Четыре времени года с разными начинками"
                },
                ingredients: {
                    de: "Tomatensoße, Mozzarella, Schinken, Pilze, Artischocken, Oliven",
                    en: "Tomato sauce, mozzarella, ham, mushrooms, artichokes, olives",
                    tr: "Domates sosu, mozzarella, jambon, mantar, enginar, zeytin",
                    ar: "صلصة الطماطم، جبن الموزاريلا، لحم الخنزير، الفطر، الخرشوف، الزيتون",
                    ru: "Томатный соус, моцарелла, ветчина, грибы, артишоки, оливки"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1595708684082-a173bb3a06c5?w=500&h=300&fit=crop"
            },
            {
                id: 11,
                number: 11,
                name: {
                    de: "Pizza Vegetariana",
                    en: "Vegetarian Pizza",
                    tr: "Vejetaryen Pizza",
                    ar: "بيتزا نباتية",
                    ru: "Вегетарианская пицца"
                },
                category: "pizza",
                tags: ["vegetarisch"],
                price: 12.90,
                description: {
                    de: "Gemüsepizza mit frischem Gemüse",
                    en: "Vegetable pizza with fresh vegetables",
                    tr: "Taze sebzeli sebze pizzası",
                    ar: "بيتزا نباتية مع خضروات طازجة",
                    ru: "Овощная пицца со свежими овощами"
                },
                ingredients: {
                    de: "Tomatensoße, Mozzarella, Paprika, Zucchini, Mais, Pilze, Oliven",
                    en: "Tomato sauce, mozzarella, bell peppers, zucchini, corn, mushrooms, olives",
                    tr: "Domates sosu, mozzarella, biber, kabak, mısır, mantar, zeytin",
                    ar: "صلصة الطماطم، جبن الموزاريلا، الفلفل، الكوسة، الذرة، الفطر، الزيتون",
                    ru: "Томатный соус, моцарелла, болгарский перец, цуккини, кукуруза, грибы, оливки"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1571066811602-716837d681de?w=500&h=300&fit=crop"
            },
            {
                id: 12,
                number: 12,
                name: {
                    de: "Gyros Box",
                    en: "Gyros Box",
                    tr: "Gyros Kutusu",
                    ar: "صندوق جيروس",
                    ru: "Коробка с гиросом"
                },
                category: "gyros",
                tags: ["scharf"],
                sizes: [
                    { 
                        name: { de: "Klein", en: "Small", tr: "Küçük", ar: "صغير", ru: "Маленький" }, 
                        price: 7.90, 
                        description: { de: "Mit Pommes und Tzatziki", en: "With fries and tzatziki", tr: "Patates kızartması ve cacık ile", ar: "مع البطاطس المقلية وتزاتزيكي", ru: "С картофелем фри и дзадзики" } 
                    },
                    { 
                        name: { de: "Groß", en: "Large", tr: "Büyük", ar: "كبير", ru: "Большой" }, 
                        price: 9.90, 
                        description: { de: "Mit Pommes und Tzatziki", en: "With fries and tzatziki", tr: "Patates kızartması ve cacık ile", ar: "مع البطاطس المقلية وتزاتزيكي", ru: "С картофелем фри и дзадзики" } 
                    }
                ],
                description: {
                    de: "Gyros mit Pommes und Tzatziki",
                    en: "Gyros with fries and tzatziki",
                    tr: "Patates kızartması ve cacıklı gyros",
                    ar: "جيروس مع البطاطس المقلية وتزاتزيكي",
                    ru: "Гирос с картофелем фри и дзадзики"
                },
                ingredients: {
                    de: "Gyros, Pommes Frites, Tzatziki, Zwiebeln",
                    en: "Gyros, french fries, tzatziki, onions",
                    tr: "Gyros, patates kızartması, cacık, soğan",
                    ar: "جيروس، بطاطس مقلية، تزاتزيكي، بصل",
                    ru: "Гирос, картофель фри, дзадзики, лук"
                },
                allergens: ["A", "G"],
                additives: [],
                image: "https://images.unsplash.com/photo-1606755962773-d324e383324b?w=500&h=300&fit=crop"
            }
        ];

        // Initialisierung der Seite
        document.addEventListener('DOMContentLoaded', function() {
            initializePage();
            setupEventListeners();
            renderMenuItems();
            updateCartCount();
        });

        function initializePage() {
            // Spracheinstellungen
            const savedLanguage = localStorage.getItem('preferredLanguage');
            if (savedLanguage) {
                currentLanguage = savedLanguage;
                updateLanguageFlags();
            }
            applyLanguage();
        }

        function setupEventListeners() {
            // Sprachauswahl
            document.querySelectorAll('.language-flag').forEach(flag => {
                flag.addEventListener('click', function() {
                    currentLanguage = this.getAttribute('data-lang');
                    localStorage.setItem('preferredLanguage', currentLanguage);
                    updateLanguageFlags();
                    applyLanguage();
                });
            });

            // Filter
            document.getElementById('categoryFilter').addEventListener('change', renderMenuItems);
            document.getElementById('specialWishesFilter').addEventListener('change', renderMenuItems);
            document.getElementById('searchInput').addEventListener('input', renderMenuItems);

            // Warenkorb
            document.getElementById('showCart').addEventListener('click', showCart);
            document.getElementById('backToMenu').addEventListener('click', showMenu);

            // Popup
            document.getElementById('closePopup').addEventListener('click', closePopup);
            document.getElementById('cartPopupBtn').addEventListener('click', addToCart);

            // Bestätigungs-Popup
            document.getElementById('confirmOk').addEventListener('click', confirmAddToCart);
            document.getElementById('confirmNo').addEventListener('click', closeConfirmation);

            // Scroll-to-top Button
            document.getElementById('scrollToTopBtn').addEventListener('click', scrollToTop);
            window.addEventListener('scroll', toggleScrollToTopButton);
        }

        function updateLanguageFlags() {
            document.querySelectorAll('.language-flag').forEach(flag => {
                if (flag.getAttribute('data-lang') === currentLanguage) {
                    flag.classList.add('active');
                } else {
                    flag.classList.remove('active');
                }
            });
        }

        function applyLanguage() {
            const t = translations[currentLanguage];
            
            // Header
            document.getElementById('headerWelcome').textContent = t.welcome;
            document.getElementById('deliveryBanner').textContent = t.delivery;
            
            // Filter
            document.getElementById('searchInput').placeholder = t.searchPlaceholder;
            document.getElementById('categoryFilter').options[0].text = t.allCategories;
            document.getElementById('categoryFilter').options[1].text = t.pizza;
            document.getElementById('categoryFilter').options[2].text = t.pasta;
            document.getElementById('categoryFilter').options[3].text = t.salads;
            document.getElementById('categoryFilter').options[4].text = t.gyros;
            
            document.getElementById('specialWishesFilter').options[0].text = t.allSpecialWishes;
            document.getElementById('specialWishesFilter').options[1].text = t.vegetarian;
            document.getElementById('specialWishesFilter').options[2].text = t.spicy;
            
            // Warenkorb
            document.getElementById('cartLabel').innerHTML = `${t.cart} (<span id="cartCount">${cart.length}</span>)`;
            document.getElementById('backToMenu').textContent = t.backToMenu;
            document.getElementById('cartTitle').textContent = t.yourCart;
            document.getElementById('cartPhoneBtn').textContent = `📞 ${t.callNow}: 02327 303687`;
            document.getElementById('phoneInfo').textContent = t.clickToCall;
            
            // Footer
            document.getElementById('footerHoursTitle').textContent = t.openingHours;
            document.getElementById('footerCopyright').textContent = t.copyright;
            
            // Popup
            document.getElementById('sizeSelectionTitle').textContent = t.selectSize;
            document.getElementById('ingredientsLabel').textContent = t.ingredients;
            document.getElementById('allergensTitle').textContent = t.allergens;
            document.getElementById('additivesTitle').textContent = t.additives;
            
            // Bestätigungs-Popup
            document.getElementById('confirmationTitle').textContent = t.addToCart;
            document.getElementById('confirmOk').textContent = t.ok;
            document.getElementById('confirmNo').textContent = t.cancel;
            
            // Tooltips für Flaggen
            document.querySelectorAll('.language-flag-container').forEach(container => {
                const lang = container.querySelector('.language-flag').getAttribute('data-lang');
                const tooltip = container.querySelector('.language-tooltip');
                if (lang === 'de') tooltip.textContent = t.german;
                if (lang === 'en') tooltip.textContent = t.english;
                if (lang === 'tr') tooltip.textContent = t.turkish;
                if (lang === 'ar') tooltip.textContent = t.arabic;
                if (lang === 'ru') tooltip.textContent = t.russian;
            });
            
            // Menü neu rendern, um Übersetzungen anzuwenden
            renderMenuItems();
            renderCart();
        }

        function renderMenuItems() {
            const menuGrid = document.getElementById('menuGrid');
            const categoryFilter = document.getElementById('categoryFilter').value;
            const specialWishesFilter = document.getElementById('specialWishesFilter').value;
            const searchQuery = document.getElementById('searchInput').value.toLowerCase();
            
            let filteredItems = menuItems.filter(item => {
                // Kategoriefilter
                if (categoryFilter !== 'all' && item.category !== categoryFilter) {
                    return false;
                }
                
                // Sonderwunsch-Filter
                if (specialWishesFilter !== 'all') {
                    if (specialWishesFilter === 'vegetarisch' && !item.tags.includes('vegetarisch')) {
                        return false;
                    }
                    if (specialWishesFilter === 'scharf' && !item.tags.includes('scharf')) {
                        return false;
                    }
                }
                
                // Suchfilter
                if (searchQuery) {
                    const itemName = typeof item.name === 'object' ? item.name[currentLanguage] : item.name;
                    if (!itemName.toLowerCase().includes(searchQuery)) {
                        return false;
                    }
                }
                
                return true;
            });
            
            if (filteredItems.length === 0) {
                menuGrid.innerHTML = `<div class="no-items">${translations[currentLanguage].noItems}</div>`;
                return;
            }
            
            menuGrid.innerHTML = '';
            
            filteredItems.forEach(item => {
                const menuItem = document.createElement('div');
                menuItem.className = 'menu-item';
                menuItem.setAttribute('data-id', item.id);
                
                // Prüfen, ob das Gericht bereits im Warenkorb ist
                const inCart = cart.some(cartItem => cartItem.id === item.id && 
                    (!item.sizes || cartItem.selectedSize === (typeof item.sizes[0].name === 'object' ? item.sizes[0].name[currentLanguage] : item.sizes[0].name)));
                
                const itemName = typeof item.name === 'object' ? item.name[currentLanguage] : item.name;
                const itemDescription = typeof item.description === 'object' ? item.description[currentLanguage] : item.description;
                const itemIngredients = typeof item.ingredients === 'object' ? item.ingredients[currentLanguage] : item.ingredients;
                
                let priceHTML = '';
                if (item.sizes) {
                    const minPrice = item.sizes[0].price;
                    const maxPrice = item.sizes[1].price;
                    priceHTML = `<div class="price">€ ${minPrice.toFixed(2)} - € ${maxPrice.toFixed(2)}</div>`;
                } else {
                    priceHTML = `<div class="price">€ ${item.price.toFixed(2)}</div>`;
                }
                
                let tagsHTML = '';
                if (item.tags && item.tags.length > 0) {
                    tagsHTML = '<div class="tags">';
                    item.tags.forEach(tag => {
                        tagsHTML += `<span class="tag ${tag}">${getTagLabel(tag)}</span>`;
                    });
                    tagsHTML += '</div>';
                }
                
                menuItem.innerHTML = `
                    <div class="menu-item-number">${item.number}</div>
                    <h3>${itemName}</h3>
                    ${priceHTML}
                    <p class="description">${itemDescription}</p>
                    <div class="ingredients-label">${translations[currentLanguage].ingredients}:</div>
                    <p class="ingredients">${itemIngredients}</p>
                    ${tagsHTML}
                    ${inCart ? '<div class="cart-indicator">🛒 Im Warenkorb</div>' : ''}
                `;
                
                menuItem.addEventListener('click', () => openMealPopup(item));
                menuGrid.appendChild(menuItem);
            });
        }

        function getTagLabel(tag) {
            const tagLabels = {
                'vegetarisch': translations[currentLanguage].vegetarian,
                'scharf': translations[currentLanguage].spicy,
                'ohne-Schweinefleisch': 'Ohne Schweinefleisch',
                'vegan': 'Vegan',
                'laktosefrei': 'Laktosefrei'
            };
            
            return tagLabels[tag] || tag;
        }

        function openMealPopup(item) {
            currentMeal = item;
            selectedSize = null;
            
            const popup = document.getElementById('mealPopup');
            const popupImage = document.getElementById('popupImage');
            const popupTitle = document.getElementById('popupTitle');
            const popupPrice = document.getElementById('popupPrice');
            const popupDescription = document.getElementById('popupDescription');
            const popupIngredients = document.getElementById('popupIngredients');
            const popupTags = document.getElementById('popupTags');
            const sizeSelection = document.getElementById('sizeSelection');
            const sizeOptions = document.getElementById('sizeOptions');
            const cartPopupBtn = document.getElementById('cartPopupBtn');
            const allergensSection = document.getElementById('allergensSection');
            const allergensContent = document.getElementById('allergensContent');
            const additivesSection = document.getElementById('additivesSection');
            const additivesContent = document.getElementById('additivesContent');
            
            // Bild setzen
            popupImage.innerHTML = `
                <img src="${item.image}" alt="${item.name}">
                <div class="photo-type-badge">Foto</div>
            `;
            
            // Titel setzen
            const itemName = typeof item.name === 'object' ? item.name[currentLanguage] : item.name;
            popupTitle.textContent = itemName;
            
            // Größenauswahl
            if (item.sizes) {
                sizeSelection.style.display = 'block';
                sizeOptions.innerHTML = '';
                
                item.sizes.forEach((size, index) => {
                    const sizeOption = document.createElement('div');
                    sizeOption.className = 'size-option';
                    
                    const sizeName = typeof size.name === 'object' ? size.name[currentLanguage] : size.name;
                    const sizeDescription = typeof size.description === 'object' ? size.description[currentLanguage] : size.description;
                    
                    if (index === 0) {
                        sizeOption.classList.add('selected');
                        selectedSize = { name: sizeName, price: size.price, description: sizeDescription };
                    }
                    
                    sizeOption.innerHTML = `
                        <input type="radio" name="size" id="size-${index}" ${index === 0 ? 'checked' : ''}>
                        <label for="size-${index}" class="size-label">${sizeName}</label>
                        <div class="size-price">€ ${size.price.toFixed(2)}</div>
                    `;
                    
                    sizeOption.addEventListener('click', () => {
                        document.querySelectorAll('.size-option').forEach(opt => opt.classList.remove('selected'));
                        sizeOption.classList.add('selected');
                        sizeOption.querySelector('input').checked = true;
                        selectedSize = { name: sizeName, price: size.price, description: sizeDescription };
                        updatePopupPrice();
                    });
                    
                    sizeOptions.appendChild(sizeOption);
                });
                
                // Größenbeschreibung
                const firstSizeDescription = typeof item.sizes[0].description === 'object' ? item.sizes[0].description[currentLanguage] : item.sizes[0].description;
                const sizeDescription = document.createElement('div');
                sizeDescription.className = 'size-description';
                sizeDescription.textContent = firstSizeDescription;
                sizeOptions.appendChild(sizeDescription);
            } else {
                sizeSelection.style.display = 'none';
                selectedSize = { name: 'Standard', price: item.price, description: '' };
            }
            
            // Preis setzen
            updatePopupPrice();
            
            // Beschreibung
            const itemDescription = typeof item.description === 'object' ? item.description[currentLanguage] : item.description;
            if (itemDescription) {
                popupDescription.textContent = itemDescription;
                popupDescription.style.display = 'block';
            } else {
                popupDescription.style.display = 'none';
            }
            
            // Zutaten
            const itemIngredients = typeof item.ingredients === 'object' ? item.ingredients[currentLanguage] : item.ingredients;
            popupIngredients.textContent = itemIngredients;
            
            // Tags
            popupTags.innerHTML = '';
            if (item.tags && item.tags.length > 0) {
                item.tags.forEach(tag => {
                    const tagElement = document.createElement('span');
                    tagElement.className = `tag ${tag}`;
                    tagElement.textContent = getTagLabel(tag);
                    popupTags.appendChild(tagElement);
                });
            }
            
            // Allergene
            if (item.allergens && item.allergens.length > 0) {
                allergensSection.style.display = 'block';
                allergensContent.innerHTML = '';
                
                item.allergens.forEach(allergen => {
                    const allergenItem = document.createElement('div');
                    allergenItem.className = 'allergen-item';
                    allergenItem.textContent = getAllergenLabel(allergen);
                    allergensContent.appendChild(allergenItem);
                });
            } else {
                allergensSection.style.display = 'none';
            }
            
            // Zusatzstoffe
            if (item.additives && item.additives.length > 0) {
                additivesSection.style.display = 'block';
                additivesContent.innerHTML = '';
                
                item.additives.forEach(additive => {
                    const additiveItem = document.createElement('div');
                    additiveItem.className = 'additive-item';
                    additiveItem.textContent = getAdditiveLabel(additive);
                    additivesContent.appendChild(additiveItem);
                });
            } else {
                additivesSection.style.display = 'none';
            }
            
            // Warenkorb-Button
            if (item.sizes) {
                cartPopupBtn.textContent = translations[currentLanguage].pleaseSelectSize;
                cartPopupBtn.disabled = true;
            } else {
                cartPopupBtn.textContent = `${translations[currentLanguage].addToCart} - € ${selectedSize.price.toFixed(2)}`;
                cartPopupBtn.disabled = false;
            }
            
            popup.style.display = 'flex';
        }

        function updatePopupPrice() {
            const popupPrice = document.getElementById('popupPrice');
            const cartPopupBtn = document.getElementById('cartPopupBtn');
            
            if (selectedSize) {
                popupPrice.textContent = `€ ${selectedSize.price.toFixed(2)}`;
                
                if (currentMeal.sizes) {
                    cartPopupBtn.textContent = `${translations[currentLanguage].addToCart} - € ${selectedSize.price.toFixed(2)}`;
                    cartPopupBtn.disabled = false;
                }
            }
        }

        function getAllergenLabel(code) {
            const allergenLabels = {
                'A': 'Glutenhaltiges Getreide',
                'B': 'Krebstiere',
                'C': 'Eier',
                'D': 'Fisch',
                'E': 'Erdnüsse',
                'F': 'Soja',
                'G': 'Milch',
                'H': 'Schalenfrüchte',
                'L': 'Sellerie',
                'M': 'Senf',
                'N': 'Sesamsamen',
                'O': 'Schwefeldioxid',
                'P': 'Lupinen',
                'R': 'Weichtiere'
            };
            
            return `${code}: ${allergenLabels[code] || 'Unbekannt'}`;
        }

        function getAdditiveLabel(code) {
            const additiveLabels = {
                '1': 'Farbstoff',
                '2': 'Konservierungsstoff',
                '3': 'Antioxidationsmittel',
                '4': 'Geschmacksverstärker',
                '5': 'Geschwefelt',
                '6': 'Geschwärzt',
                '7': 'Gewachst',
                '8': 'Phosphat',
                '9': 'Süßungsmittel',
                '10': 'Phenylalaninquelle'
            };
            
            return `${code}: ${additiveLabels[code] || 'Unbekannt'}`;
        }

        function closePopup() {
            document.getElementById('mealPopup').style.display = 'none';
            currentMeal = null;
            selectedSize = null;
        }

        function addToCart() {
            if (!currentMeal || !selectedSize) return;
            
            const itemName = typeof currentMeal.name === 'object' ? currentMeal.name[currentLanguage] : currentMeal.name;
            
            document.getElementById('confirmationText').textContent = 
                `${itemName}${currentMeal.sizes ? ' (' + selectedSize.name + ')' : ''} - € ${selectedSize.price.toFixed(2)}`;
            
            document.getElementById('confirmationPopup').style.display = 'flex';
        }

        function confirmAddToCart() {
            if (!currentMeal || !selectedSize) return;
            
            const itemName = typeof currentMeal.name === 'object' ? currentMeal.name[currentLanguage] : currentMeal.name;
            
            const cartItem = {
                id: currentMeal.id,
                name: itemName,
                price: selectedSize.price,
                size: selectedSize.name,
                number: currentMeal.number
            };
            
            // Prüfen, ob das Gericht bereits im Warenkorb ist
            const existingItemIndex = cart.findIndex(item => 
                item.id === cartItem.id && item.size === cartItem.size);
            
            if (existingItemIndex !== -1) {
                // Wenn bereits vorhanden, erhöhe die Menge
                cart[existingItemIndex].quantity += 1;
            } else {
                // Wenn nicht vorhanden, füge neues Element hinzu
                cartItem.quantity = 1;
                cart.push(cartItem);
            }
            
            updateCartCount();
            renderMenuItems();
            closeConfirmation();
            closePopup();
            
            // Erfolgsmeldung anzeigen
            showSuccessMessage(`${itemName} ${translations[currentLanguage].addedToCart}`);
        }

        function closeConfirmation() {
            document.getElementById('confirmationPopup').style.display = 'none';
        }

        function showSuccessMessage(message) {
            // Einfache Erfolgsmeldung (könnte durch ein Toast-Notification-System ersetzt werden)
            alert(`${translations[currentLanguage].success}: ${message}`);
        }

        function showCart() {
            document.getElementById('menuView').style.display = 'none';
            document.getElementById('cartView').style.display = 'block';
            renderCart();
        }

        function showMenu() {
            document.getElementById('menuView').style.display = 'block';
            document.getElementById('cartView').style.display = 'none';
        }

        function renderCart() {
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            
            if (cart.length === 0) {
                cartItems.innerHTML = `<div class="no-items">${translations[currentLanguage].emptyCart}</div>`;
                cartTotal.textContent = `${translations[currentLanguage].total}: € 0,00`;
                return;
            }
            
            cartItems.innerHTML = '';
            let total = 0;
            
            cart.forEach((item, index) => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                cartItem.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-number">${item.number}</div>
                        <div>
                            <div class="cart-item-name">${item.name}</div>
                            ${item.size && item.size !== 'Standard' ? `<div class="cart-item-size">${item.size}</div>` : ''}
                        </div>
                    </div>
                    <div class="cart-item-price">€ ${itemTotal.toFixed(2)}</div>
                    <div class="cart-item-controls">
                        <button class="quantity-btn remove" data-index="${index}">-</button>
                        <div class="item-quantity">${item.quantity}</div>
                        <button class="quantity-btn" data-index="${index}">+</button>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            // Event-Listener für die Mengen-Buttons hinzufügen
            document.querySelectorAll('.quantity-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    if (this.classList.contains('remove')) {
                        if (cart[index].quantity > 1) {
                            cart[index].quantity -= 1;
                        } else {
                            cart.splice(index, 1);
                        }
                    } else {
                        cart[index].quantity += 1;
                    }
                    
                    updateCartCount();
                    renderCart();
                    renderMenuItems();
                });
            });
            
            cartTotal.textContent = `${translations[currentLanguage].total}: € ${total.toFixed(2)}`;
        }

        function updateCartCount() {
            const cartCount = document.getElementById('cartCount');
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            cartCount.textContent = totalItems;
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function toggleScrollToTopButton() {
            const scrollToTopBtn = document.getElementById('scrollToTopBtn');
            if (window.scrollY > 300) {
                scrollToTopBtn.style.display = 'flex';
            } else {
                scrollToTopBtn.style.display = 'none';
            }
        }
    </script>
</body>
</html>
